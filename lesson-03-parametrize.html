<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson 03: Parametrize - One Test, Many Data</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #ffffff;
            padding: 20px;
        }

        h2 {
            color: #2c3e50;
            margin-top: 20px;
            margin-bottom: 15px;
        }

        p {
            font-size: 1.05em;
            color: #555;
            margin-bottom: 15px;
        }

        code {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }

        .info-box {
            background: #e7f3ff;
            border-left: 4px solid #2196F3;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }

        .success-box {
            background: #e8f5e9;
            border-left: 4px solid #4caf50;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }

        .quiz-container {
            background: white;
            padding: 20px;
            border: 2px solid #3498db;
            border-radius: 8px;
            margin: 20px 0;
        }

        label {
            display: block;
            margin: 10px 0;
            cursor: pointer;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 4px;
            transition: background 0.2s;
        }

        label:hover {
            background: #e3f2fd;
        }

        button {
            background: #3498db;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1em;
            transition: background 0.3s;
        }

        button:hover {
            background: #2980b9;
        }

        hr {
            margin: 40px 0;
            border: none;
            border-top: 2px solid #e0e0e0;
        }

        ol {
            margin-left: 20px;
            margin-top: 10px;
        }

        ul {
            margin-left: 20px;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <h2>üîÅ Parametrize: –û–¥–∏–Ω —Ç–µ—Å—Ç, –º–Ω–æ–≥–æ –¥–∞–Ω–Ω—ã—Ö</h2>

    <p>–ü–æ—Å–º–æ—Ç—Ä–∏ –Ω–∞ —Å—Ö–µ–º—É ‚Äî —Ç–∞–∫ pytest –∑–∞–ø—É—Å–∫–∞–µ—Ç –æ–¥–∏–Ω —Ç–µ—Å—Ç —Å —Ä–∞–∑–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:</p>

    <div class="mermaid">
flowchart TD
    A[@pytest.mark.parametrize<br>'a, b, expected'<br>2, 3, 5<br>5, 7, 12<br>10, -2, 8] --> B[Pytest —á–∏—Ç–∞–µ—Ç –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä]
    B --> C{–°–∫–æ–ª—å–∫–æ –Ω–∞–±–æ—Ä–æ–≤ –¥–∞–Ω–Ω—ã—Ö?}
    C --> D[3 –Ω–∞–±–æ—Ä–∞]
    D --> E[–ó–∞–ø—É—Å–∫ #1: a=2, b=3, expected=5]
    E --> F[def test_add a, b, expected:]
    F --> G[result = a + b]
    G --> H{result == expected?}
    H -->|‚úÖ| I[Test #1 PASSED]
    H -->|‚ùå| J[Test #1 FAILED]

    I --> K[–ó–∞–ø—É—Å–∫ #2: a=5, b=7, expected=12]
    J --> K
    K --> L[def test_add a, b, expected:]
    L --> M[result = a + b]
    M --> N{result == expected?}
    N -->|‚úÖ| O[Test #2 PASSED]
    N -->|‚ùå| P[Test #2 FAILED]

    O --> Q[–ó–∞–ø—É—Å–∫ #3: a=10, b=-2, expected=8]
    P --> Q
    Q --> R[def test_add a, b, expected:]
    R --> S[result = a + b]
    S --> T{result == expected?}
    T -->|‚úÖ| U[Test #3 PASSED]
    T -->|‚ùå| V[Test #3 FAILED]

    U --> W[üìä –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á—ë—Ç<br>3 tests ran]
    V --> W

    style A fill:#FFE4B5,stroke:#ff9800,stroke-width:2px
    style I fill:#90EE90,stroke:#2d7a2d,stroke-width:2px
    style O fill:#90EE90,stroke:#2d7a2d,stroke-width:2px
    style U fill:#90EE90,stroke:#2d7a2d,stroke-width:2px
    style J fill:#FFB6C6,stroke:#d32f2f,stroke-width:2px
    style P fill:#FFB6C6,stroke:#d32f2f,stroke-width:2px
    style V fill:#FFB6C6,stroke:#d32f2f,stroke-width:2px
    style W fill:#87CEEB,stroke:#1976d2,stroke-width:2px
    </div>

    <div class="info-box">
        <strong>üí° –ü—Ä–æ–π–¥–∏ –≥–ª–∞–∑–∞–º–∏ –ø–æ —Å—Ö–µ–º–µ:</strong>
        <ol>
            <li><strong>–î–µ–∫–æ—Ä–∞—Ç–æ—Ä:</strong> <code>@pytest.mark.parametrize</code> —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–∞–±–æ—Ä—ã –¥–∞–Ω–Ω—ã—Ö</li>
            <li><strong>–ì–µ–Ω–µ—Ä–∞—Ü–∏—è:</strong> Pytest —Å–æ–∑–¥–∞—ë—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ç–µ—Å—Ç –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–∞–±–æ—Ä–∞</li>
            <li><strong>–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ:</strong> –ö–∞–∂–¥—ã–π —Ç–µ—Å—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å –†–ê–ó–ù–´–ú–ò –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏</li>
            <li><strong>–û—Ç—á—ë—Ç:</strong> –í –∏—Ç–æ–≥–µ –≤–∏–¥–∏—à—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è –ö–ê–ñ–î–û–ì–û –Ω–∞–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö</li>
        </ol>
    </div>

    <hr>

    <h2>üéØ Quick Check: –ü—Ä–æ–≤–µ—Ä—å —Å–µ–±—è</h2>

    <div class="quiz-container">
        <p><strong>–í–æ–ø—Ä–æ—Å:</strong> –°–∫–æ–ª—å–∫–æ —Ç–µ—Å—Ç–æ–≤ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –¥–ª—è —ç—Ç–æ–≥–æ –∫–æ–¥–∞?</p>
        <pre><code>@pytest.mark.parametrize("x, y", [(1, 2), (3, 4), (5, 6), (7, 8)])
def test_sum(x, y):
    assert x + y > 0</code></pre>

        <div style="margin: 15px 0;">
            <label>
                <input type="radio" name="q1" value="1"> 1 —Ç–µ—Å—Ç
            </label>
            <label>
                <input type="radio" name="q1" value="2"> 2 —Ç–µ—Å—Ç–∞
            </label>
            <label>
                <input type="radio" name="q1" value="3" id="correct-answer"> <strong>4 —Ç–µ—Å—Ç–∞</strong>
            </label>
            <label>
                <input type="radio" name="q1" value="4"> 8 —Ç–µ—Å—Ç–æ–≤
            </label>
        </div>

        <button onclick="checkAnswer()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç</button>

        <div id="feedback" style="margin-top: 15px;"></div>
    </div>

    <div class="success-box">
        <strong>‚úÖ –ó–∞—á–µ–º –Ω—É–∂–Ω–∞ parametrize:</strong>
        <ul>
            <li><strong>DRY –ø—Ä–∏–Ω—Ü–∏–ø:</strong> –ù–µ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</li>
            <li><strong>Edge cases:</strong> –õ–µ–≥–∫–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≥—Ä–∞–Ω–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (0, -1, MAX_INT)</li>
            <li><strong>–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å:</strong> –í—Å–µ —Ç–µ—Å—Ç-–∫–µ–π—Å—ã –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ</li>
            <li><strong>–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:</strong> –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –∫–µ–π—Å = –¥–æ–±–∞–≤–∏—Ç—å –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É</li>
        </ul>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default',
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis'
            }
        });

        function checkAnswer() {
            const correct = document.getElementById('correct-answer');
            const feedback = document.getElementById('feedback');

            if (correct.checked) {
                feedback.innerHTML = '<div style="background: #d4edda; border-left: 4px solid #28a745; padding: 15px; border-radius: 4px; margin-top: 10px;">‚úÖ <strong>–ü—Ä–∞–≤–∏–ª—å–Ω–æ!</strong> 4 –Ω–∞–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö = 4 –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–∞. Pytest —Å–æ–∑–¥–∞—Å—Ç test_sum[1-2], test_sum[3-4], test_sum[5-6], test_sum[7-8] üéâ</div>';
            } else {
                feedback.innerHTML = '<div style="background: #fff3cd; border-left: 4px solid #856404; padding: 15px; border-radius: 4px; margin-top: 10px;">‚ùå <strong>–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ.</strong> –ü–æ–¥—É–º–∞–π –µ—â—ë —Ä–∞–∑: —Å–∫–æ–ª—å–∫–æ –ø–∞—Ä (x, y) –≤ —Å–ø–∏—Å–∫–µ? –î–ª—è –∫–∞–∂–¥–æ–π –ø–∞—Ä—ã –±—É–¥–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ç–µ—Å—Ç ü§î</div>';
            }
        }
    </script>
</body>
</html>
