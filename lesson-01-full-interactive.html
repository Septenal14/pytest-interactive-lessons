<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pytest Lesson 01: –í–≤–µ–¥–µ–Ω–∏–µ –≤ Pytest (Full Interactive)</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f5f5f5;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 2.2em;
        }

        h2 {
            color: #34495e;
            margin-top: 30px;
            margin-bottom: 15px;
            font-size: 1.6em;
            border-left: 4px solid #3498db;
            padding-left: 15px;
        }

        h3 {
            color: #555;
            margin-top: 20px;
            margin-bottom: 10px;
        }

        p {
            font-size: 1.05em;
            color: #555;
            margin-bottom: 15px;
        }

        code {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            color: #e74c3c;
        }

        .info-box {
            background: #e7f3ff;
            border-left: 4px solid #2196F3;
            padding: 20px;
            margin: 20px 0;
            border-radius: 4px;
        }

        .success-box {
            background: #e8f5e9;
            border-left: 4px solid #4caf50;
            padding: 20px;
            margin: 20px 0;
            border-radius: 4px;
        }

        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #ff9800;
            padding: 20px;
            margin: 20px 0;
            border-radius: 4px;
        }

        .quiz-container {
            background: white;
            padding: 25px;
            border: 2px solid #3498db;
            border-radius: 8px;
            margin: 20px 0;
        }

        .sandbox-container {
            background: #1e1e1e;
            border-radius: 8px;
            margin: 20px 0;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .sandbox-header {
            background: #2d2d2d;
            padding: 12px 20px;
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .sandbox-title {
            font-weight: bold;
            font-size: 1.1em;
        }

        .run-button {
            background: #4caf50;
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1em;
            transition: background 0.3s;
            font-weight: bold;
        }

        .run-button:hover {
            background: #45a049;
        }

        .run-button:active {
            background: #3d8b40;
        }

        #editor {
            height: 300px;
            width: 100%;
        }

        #output {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            font-family: 'Courier New', monospace;
            min-height: 200px;
            max-height: 400px;
            overflow-y: auto;
            white-space: pre-wrap;
            border-top: 1px solid #444;
        }

        .output-line {
            margin: 2px 0;
        }

        .output-success {
            color: #4caf50;
        }

        .output-error {
            color: #f44336;
        }

        .output-info {
            color: #2196F3;
        }

        label {
            display: block;
            margin: 10px 0;
            cursor: pointer;
            padding: 12px;
            background: #f8f9fa;
            border-radius: 4px;
            transition: background 0.2s;
        }

        label:hover {
            background: #e3f2fd;
        }

        button {
            background: #3498db;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1em;
            transition: background 0.3s;
            font-weight: bold;
        }

        button:hover {
            background: #2980b9;
        }

        hr {
            margin: 40px 0;
            border: none;
            border-top: 2px solid #e0e0e0;
        }

        ol, ul {
            margin-left: 25px;
            margin-top: 10px;
        }

        li {
            margin: 8px 0;
        }

        .loading {
            text-align: center;
            padding: 20px;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üß™ Pytest Lesson 01: –í–≤–µ–¥–µ–Ω–∏–µ –≤ Pytest</h1>
        <p><em>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —É—Ä–æ–∫ —Å –∂–∏–≤–æ–π –ø–µ—Å–æ—á–Ω–∏—Ü–µ–π Python</em></p>

        <hr>

        <h2>üìå Level 0: –ó–ê–ß–ï–ú –Ω—É–∂–µ–Ω Pytest?</h2>

        <div class="info-box">
            <strong>üéØ –¢–≤–æ—è –∑–∞–¥–∞—á–∞ –∫–∞–∫ QA:</strong>
            <p>–ü—Ä–µ–¥—Å—Ç–∞–≤—å: —Ç—ã —Ç–µ—Å—Ç–∏—Ä—É–µ—à—å —Å–∞–π—Ç. 100 —Ñ—É–Ω–∫—Ü–∏–π. –ö–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é ‚Äî –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è.</p>
            <p><strong>–í—Ä—É—á–Ω—É—é —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å?</strong> 100 –∫–ª–∏–∫–æ–≤ √ó 4 –Ω–µ–¥–µ–ª–∏ = 400 —á–∞—Å–æ–≤ —Ä–∞–±–æ—Ç—ã üò±</p>
            <p><strong>–° –∞–≤—Ç–æ—Ç–µ—Å—Ç–∞–º–∏?</strong> –ù–∞–ø–∏—Å–∞–ª 1 —Ä–∞–∑ ‚Üí –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∑–∞ 5 –º–∏–Ω—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ üöÄ</p>
        </div>

        <div class="success-box">
            <strong>‚úÖ –ó–∞—á–µ–º pytest:</strong>
            <ul>
                <li>‚è±Ô∏è <strong>–≠–∫–æ–Ω–æ–º–∏—è –≤—Ä–µ–º–µ–Ω–∏:</strong> —Ç–µ—Å—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ–∫–∞ —Ç—ã —Å–ø–∏—à—å</li>
                <li>üêõ <strong>–†–∞–Ω–Ω–µ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –±–∞–≥–æ–≤:</strong> —É–ø–∞–ª —Ç–µ—Å—Ç = –Ω–∞—à—ë–ª –±–∞–≥ –î–û —Ä–µ–ª–∏–∑–∞</li>
                <li>üìù <strong>–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:</strong> —Ç–µ—Å—Ç—ã = –ø—Ä–∏–º–µ—Ä—ã –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ–¥</li>
                <li>üîí <strong>–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å:</strong> –∏–∑–º–µ–Ω–∏–ª –∫–æ–¥? –¢–µ—Å—Ç—ã –ø–æ–∫–∞–∂—É—Ç —á—Ç–æ —Å–ª–æ–º–∞–ª–æ—Å—å</li>
            </ul>
        </div>

        <hr>

        <h2>üí° Level 1: –ß–¢–û —Ç–∞–∫–æ–µ Pytest?</h2>

        <p><strong>–ú–µ—Ç–∞—Ñ–æ—Ä–∞:</strong> Pytest ‚Äî —ç—Ç–æ –∫–∞–∫ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –¥–ª—è –∫–æ–¥–∞.</p>

        <div class="info-box">
            <p><strong>–ö–∞–∫ –≤ —à–∫–æ–ª–µ:</strong></p>
            <ul>
                <li>‚úèÔ∏è –£—á–∏—Ç–µ–ª—å –∑–∞–¥–∞—ë—Ç –≤–æ–ø—Ä–æ—Å—ã (—Ç–µ—Å—Ç—ã)</li>
                <li>üìù –¢—ã –¥–∞—ë—à—å –æ—Ç–≤–µ—Ç—ã (—Ç–≤–æ–π –∫–æ–¥)</li>
                <li>‚úÖ –£—á–∏—Ç–µ–ª—å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å (pytest –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ç–µ—Å—Ç—ã)</li>
                <li>üìä –ü–æ–ª—É—á–∞–µ—à—å –æ—Ü–µ–Ω–∫—É (–æ—Ç—á—ë—Ç: passed/failed)</li>
            </ul>
        </div>

        <p><strong>Pytest</strong> ‚Äî —ç—Ç–æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Python –∫–æ–¥–∞. –û–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:</p>
        <ol>
            <li>–ù–∞—Ö–æ–¥–∏—Ç –≤—Å–µ —Ñ–∞–π–ª—ã —Å —Ç–µ—Å—Ç–∞–º–∏ (<code>test_*.py</code>)</li>
            <li>–ó–∞–ø—É—Å–∫–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å <code>test_</code></li>
            <li>–ü—Ä–æ–≤–µ—Ä—è–µ—Ç <code>assert</code> —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è</li>
            <li>–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç (‚úÖ passed / ‚ùå failed)</li>
        </ol>

        <hr>

        <h2>üîß Level 2: –ö–ê–ö —Ä–∞–±–æ—Ç–∞–µ—Ç Pytest?</h2>

        <h3>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–∞:</h3>

        <div class="info-box">
            <pre style="background: #2d2d2d; color: #d4d4d4; padding: 15px; border-radius: 6px; overflow-x: auto;">
<span style="color: #569cd6;">def</span> <span style="color: #dcdcaa;">test_simple_math</span>():
    <span style="color: #6a9955;"># Arrange (–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞)</span>
    a = <span style="color: #b5cea8;">2</span>
    b = <span style="color: #b5cea8;">2</span>

    <span style="color: #6a9955;"># Act (–¥–µ–π—Å—Ç–≤–∏–µ)</span>
    result = a + b

    <span style="color: #6a9955;"># Assert (–ø—Ä–æ–≤–µ—Ä–∫–∞)</span>
    <span style="color: #569cd6;">assert</span> result == <span style="color: #b5cea8;">4</span>, <span style="color: #ce9178;">"2 + 2 –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 4!"</span>
</pre>
        </div>

        <p><strong>3 —á–∞—Å—Ç–∏ —Ç–µ—Å—Ç–∞ (AAA Pattern):</strong></p>
        <ol>
            <li><strong>Arrange</strong> (–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞) ‚Äî –≥–æ—Ç–æ–≤–∏–º —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ</li>
            <li><strong>Act</strong> (–¥–µ–π—Å—Ç–≤–∏–µ) ‚Äî –≤—ã–ø–æ–ª–Ω—è–µ–º —Ç–µ—Å—Ç–∏—Ä—É–µ–º—É—é —Ñ—É–Ω–∫—Ü–∏—é</li>
            <li><strong>Assert</strong> (–ø—Ä–æ–≤–µ—Ä–∫–∞) ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç</li>
        </ol>

        <hr>

        <h2>üìù Level 3: –ü–†–ò–ú–ï–†–´ (Real-world)</h2>

        <div class="warning-box">
            <strong>üéØ –†–µ–∞–ª—å–Ω–∞—è –∑–∞–¥–∞—á–∞:</strong> –¢–µ—Å—Ç–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏—é –ª–æ–≥–∏–Ω–∞ –Ω–∞ —Å–∞–π—Ç–µ
        </div>

        <div class="info-box">
            <pre style="background: #2d2d2d; color: #d4d4d4; padding: 15px; border-radius: 6px; overflow-x: auto;">
<span style="color: #569cd6;">def</span> <span style="color: #dcdcaa;">login</span>(username, password):
    <span style="color: #569cd6;">if</span> username == <span style="color: #ce9178;">"admin"</span> <span style="color: #569cd6;">and</span> password == <span style="color: #ce9178;">"password123"</span>:
        <span style="color: #569cd6;">return</span> <span style="color: #4ec9b0;">True</span>
    <span style="color: #569cd6;">return</span> <span style="color: #4ec9b0;">False</span>

<span style="color: #569cd6;">def</span> <span style="color: #dcdcaa;">test_login_success</span>():
    <span style="color: #6a9955;"># Arrange</span>
    username = <span style="color: #ce9178;">"admin"</span>
    password = <span style="color: #ce9178;">"password123"</span>

    <span style="color: #6a9955;"># Act</span>
    result = login(username, password)

    <span style="color: #6a9955;"># Assert</span>
    <span style="color: #569cd6;">assert</span> result == <span style="color: #4ec9b0;">True</span>, <span style="color: #ce9178;">"–õ–æ–≥–∏–Ω –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–π—Ç–∏ —É—Å–ø–µ—à–Ω–æ!"</span>

<span style="color: #569cd6;">def</span> <span style="color: #dcdcaa;">test_login_wrong_password</span>():
    result = login(<span style="color: #ce9178;">"admin"</span>, <span style="color: #ce9178;">"wrong"</span>)
    <span style="color: #569cd6;">assert</span> result == <span style="color: #4ec9b0;">False</span>, <span style="color: #ce9178;">"–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å = –ª–æ–≥–∏–Ω –ù–ï –ø—Ä–æ–π–¥–µ–Ω"</span>
</pre>
        </div>

        <hr>

        <h2>üíª Level 4: –ü–†–ê–ö–¢–ò–ö–ê (–ñ–∏–≤–∞—è –ø–µ—Å–æ—á–Ω–∏—Ü–∞!)</h2>

        <div class="warning-box">
            <strong>üéØ –¢–≤–æ—è –∑–∞–¥–∞—á–∞:</strong> –ó–∞–ø—É—Å—Ç–∏ –∫–æ–¥ –Ω–∏–∂–µ –∏ –ø–æ—Å–º–æ—Ç—Ä–∏ –∫–∞–∫ pytest –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.
            –ü–æ–ø—Ä–æ–±—É–π –∏–∑–º–µ–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —á—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç!
        </div>

        <div class="sandbox-container">
            <div class="sandbox-header">
                <span class="sandbox-title">üêç Python + Pytest Sandbox (–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ!)</span>
                <button class="run-button" onclick="runPytest()">‚ñ∂Ô∏è –ó–∞–ø—É—Å—Ç–∏—Ç—å Pytest</button>
            </div>
            <div id="editor"># –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
def add(a, b):
    return a + b

# –¢–µ—Å—Ç 1: –£—Å–ø–µ—à–Ω—ã–π —Ç–µ—Å—Ç
def test_add_positive():
    result = add(2, 3)
    assert result == 5, "2 + 3 –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 5"

# –¢–µ—Å—Ç 2: –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ –ø–∞–¥–∞—é—â–∏–π —Ç–µ—Å—Ç (–∏—Å–ø—Ä–∞–≤—å –µ–≥–æ!)
def test_add_negative():
    result = add(-1, -1)
    assert result == -2, "–ò—Å–ø—Ä–∞–≤—å —ç—Ç–æ—Ç assert!"

# –¢–µ—Å—Ç 3: –ü–æ–ø—Ä–æ–±—É–π –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–π —Ç–µ—Å—Ç –∑–¥–µ—Å—å!
</div>
            <div id="output" class="loading">‚è≥ –ó–∞–≥—Ä—É–∂–∞–µ–º Python –æ–∫—Ä—É–∂–µ–Ω–∏–µ (Pyodide)... –≠—Ç–æ –∑–∞–π–º–µ—Ç ~10 —Å–µ–∫—É–Ω–¥ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ.</div>
        </div>

        <div class="success-box">
            <strong>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∏:</strong>
            <ul>
                <li>–ü–æ–ø—Ä–æ–±—É–π –∏–∑–º–µ–Ω–∏—Ç—å <code>assert result == 5</code> –Ω–∞ –¥—Ä—É–≥–æ–µ —á–∏—Å–ª–æ ‚Äî —Ç–µ—Å—Ç —É–ø–∞–¥–µ—Ç!</li>
                <li>–ò—Å–ø—Ä–∞–≤—å <code>test_add_negative</code> —á—Ç–æ–±—ã –æ–Ω –ø—Ä–æ—à–µ–ª</li>
                <li>–î–æ–±–∞–≤—å —Å–≤–æ–π —Ç–µ—Å—Ç <code>test_multiply()</code> –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —É–º–Ω–æ–∂–µ–Ω–∏—è</li>
            </ul>
        </div>

        <hr>

        <h2>üéØ Quick Check: –ü—Ä–æ–≤–µ—Ä—å —Å–µ–±—è</h2>

        <div class="quiz-container">
            <p><strong>–í–æ–ø—Ä–æ—Å:</strong> –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–º–∞–Ω–¥–∞ <code>assert result == 5</code>?</p>

            <div style="margin: 15px 0;">
                <label>
                    <input type="radio" name="q1" value="1"> –ü—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π result –∑–Ω–∞—á–µ–Ω–∏–µ 5
                </label>
                <label>
                    <input type="radio" name="q1" value="2" id="correct-answer"> <strong>–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —á—Ç–æ result —Ä–∞–≤–µ–Ω 5, –µ—Å–ª–∏ –Ω–µ—Ç ‚Äî —Ç–µ—Å—Ç –ø–∞–¥–∞–µ—Ç</strong>
                </label>
                <label>
                    <input type="radio" name="q1" value="3"> –í—ã–≤–æ–¥–∏—Ç –Ω–∞ —ç–∫—Ä–∞–Ω –∑–Ω–∞—á–µ–Ω–∏–µ result
                </label>
                <label>
                    <input type="radio" name="q1" value="4"> –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π —Ç–µ—Å—Ç —Å –∏–º–µ–Ω–µ–º result
                </label>
            </div>

            <button onclick="checkAnswer()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç</button>

            <div id="feedback" style="margin-top: 15px;"></div>
        </div>

        <hr>

        <h2>üîÑ Spaced Repetition: –ü–æ–≤—Ç–æ—Ä–∏–º –≥–ª–∞–≤–Ω–æ–µ</h2>

        <div class="success-box">
            <strong>‚úÖ –ß—Ç–æ —Ç—ã —É–∑–Ω–∞–ª —Å–µ–≥–æ–¥–Ω—è:</strong>
            <ol>
                <li><strong>–ó–ê–ß–ï–ú:</strong> Pytest —ç–∫–æ–Ω–æ–º–∏—Ç –≤—Ä–µ–º—è, –Ω–∞—Ö–æ–¥–∏—Ç –±–∞–≥–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</li>
                <li><strong>–ß–¢–û:</strong> Pytest = –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –¥–ª—è –∫–æ–¥–∞</li>
                <li><strong>–ö–ê–ö:</strong> –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–∞ = AAA (Arrange, Act, Assert)</li>
                <li><strong>–ü–†–ò–ú–ï–†–´:</strong> –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ login()</li>
                <li><strong>–ü–†–ê–ö–¢–ò–ö–ê:</strong> –ó–∞–ø—É—Å—Ç–∏–ª —Ç–µ—Å—Ç—ã –≤ –∂–∏–≤–æ–π –ø–µ—Å–æ—á–Ω–∏—Ü–µ!</li>
            </ol>
        </div>

        <hr>

        <h2>üëÄ Preview Next Lesson</h2>

        <div class="info-box">
            <p><strong>üìö Lesson 02: Fixtures ‚Äî Setup –∏ Teardown</strong></p>
            <p>–í —Å–ª–µ–¥—É—é—â–µ–º —É—Ä–æ–∫–µ —É–∑–Ω–∞–µ—à—å:</p>
            <ul>
                <li>–ö–∞–∫ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥ —Ç–µ—Å—Ç–∞–º–∏ (setup)</li>
                <li>–ö–∞–∫ –æ—á–∏—Å—Ç–∏—Ç—å –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–æ–≤ (teardown)</li>
                <li>–ö–∞–∫ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–¥ –º–µ–∂–¥—É —Ç–µ—Å—Ç–∞–º–∏</li>
                <li>–ß—Ç–æ —Ç–∞–∫–æ–µ scope –∏ –∑–∞—á–µ–º –æ–Ω –Ω—É–∂–µ–Ω</li>
            </ul>
            <p><em>–£–≤–∏–¥–∏–º—Å—è –≤ —Å–ª–µ–¥—É—é—â–µ–º —É—Ä–æ–∫–µ! üöÄ</em></p>
        </div>
    </div>

    <!-- Monaco Editor -->
    <script src="https://cdn.jsdelivr.net/npm/monaco-editor@0.45.0/min/vs/loader.js"></script>

    <!-- Pyodide (Python in browser) -->
    <script src="https://cdn.jsdelivr.net/pyodide/v0.24.1/full/pyodide.js"></script>

    <script>
        let editor;
        let pyodide;
        let pyodideReady = false;

        // Initialize Monaco Editor
        require.config({ paths: { vs: 'https://cdn.jsdelivr.net/npm/monaco-editor@0.45.0/min/vs' } });

        require(['vs/editor/editor.main'], function() {
            editor = monaco.editor.create(document.getElementById('editor'), {
                value: document.getElementById('editor').textContent,
                language: 'python',
                theme: 'vs-dark',
                fontSize: 14,
                minimap: { enabled: false },
                scrollBeyondLastLine: false,
                automaticLayout: true
            });
        });

        // Initialize Pyodide
        async function loadPyodide() {
            const output = document.getElementById('output');
            try {
                output.textContent = '‚è≥ –ó–∞–≥—Ä—É–∂–∞–µ–º Python –æ–∫—Ä—É–∂–µ–Ω–∏–µ (Pyodide)...';
                pyodide = await loadPyodide();

                // Install pytest
                output.textContent = '‚è≥ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º pytest...';
                await pyodide.loadPackage('micropip');
                await pyodide.runPythonAsync(`
                    import micropip
                    await micropip.install('pytest')
                `);

                pyodideReady = true;
                output.innerHTML = '<span class="output-success">‚úÖ Python –æ–∫—Ä—É–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ! –ù–∞–∂–º–∏ "‚ñ∂Ô∏è –ó–∞–ø—É—Å—Ç–∏—Ç—å Pytest"</span>';
            } catch (error) {
                output.innerHTML = '<span class="output-error">‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: ' + error + '</span>';
            }
        }

        // Run pytest
        async function runPytest() {
            const output = document.getElementById('output');

            if (!pyodideReady) {
                output.innerHTML = '<span class="output-error">‚è≥ –ü–æ–¥–æ–∂–¥–∏—Ç–µ, Python –æ–∫—Ä—É–∂–µ–Ω–∏–µ –µ—â–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...</span>';
                return;
            }

            const code = editor.getValue();
            output.innerHTML = '<span class="output-info">üöÄ –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–µ—Å—Ç—ã...</span>\n';

            try {
                // Run the code and collect test results
                const result = await pyodide.runPythonAsync(`
import sys
from io import StringIO
import pytest

# Write code to temporary file
with open('/tmp/test_file.py', 'w') as f:
    f.write("""${code.replace(/"/g, '\\"').replace(/\n/g, '\\n')}""")

# Capture output
old_stdout = sys.stdout
sys.stdout = StringIO()

# Run pytest
exit_code = pytest.main(['/tmp/test_file.py', '-v', '--tb=short'])

# Get output
output = sys.stdout.getvalue()
sys.stdout = old_stdout

output
                `);

                // Format output with colors
                const lines = result.split('\n');
                let formattedOutput = '';

                lines.forEach(line => {
                    if (line.includes('PASSED')) {
                        formattedOutput += '<span class="output-success">‚úÖ ' + line + '</span>\n';
                    } else if (line.includes('FAILED')) {
                        formattedOutput += '<span class="output-error">‚ùå ' + line + '</span>\n';
                    } else if (line.includes('AssertionError')) {
                        formattedOutput += '<span class="output-error">' + line + '</span>\n';
                    } else if (line.includes('===')) {
                        formattedOutput += '<span class="output-info">' + line + '</span>\n';
                    } else {
                        formattedOutput += line + '\n';
                    }
                });

                output.innerHTML = formattedOutput || '<span class="output-success">‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ!</span>';

            } catch (error) {
                output.innerHTML = '<span class="output-error">‚ùå –û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:\n' + error + '</span>';
            }
        }

        // Quiz function
        function checkAnswer() {
            const correct = document.getElementById('correct-answer');
            const feedback = document.getElementById('feedback');

            if (correct.checked) {
                feedback.innerHTML = '<div style="background: #d4edda; border-left: 4px solid #28a745; padding: 15px; border-radius: 4px; margin-top: 10px;">‚úÖ <strong>–ü—Ä–∞–≤–∏–ª—å–Ω–æ!</strong> Assert –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —É—Å–ª–æ–≤–∏–µ. –ï—Å–ª–∏ result –ù–ï —Ä–∞–≤–µ–Ω 5 ‚Äî pytest –ø–æ–∫–∞–∂–µ—Ç –æ—à–∏–±–∫—É –∏ —Ç–µ—Å—Ç —É–ø–∞–¥–µ—Ç üéâ</div>';
            } else {
                feedback.innerHTML = '<div style="background: #fff3cd; border-left: 4px solid #856404; padding: 15px; border-radius: 4px; margin-top: 10px;">‚ùå <strong>–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ.</strong> –ü–æ–¥—É–º–∞–π: assert = —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ. –ú—ã —É—Ç–≤–µ—Ä–∂–¥–∞–µ–º —á—Ç–æ result == 5. –ï—Å–ª–∏ —ç—Ç–æ –ù–ï —Ç–∞–∫ ‚Äî —Ç–µ—Å—Ç –ø–∞–¥–∞–µ—Ç ü§î</div>';
            }
        }

        // Load Pyodide on page load
        loadPyodide();
    </script>
</body>
</html>
