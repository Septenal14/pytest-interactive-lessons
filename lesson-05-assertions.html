<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson 05: Assertions & Reports</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #ffffff;
            padding: 20px;
        }

        h2 {
            color: #2c3e50;
            margin-top: 20px;
            margin-bottom: 15px;
        }

        p {
            font-size: 1.05em;
            color: #555;
            margin-bottom: 15px;
        }

        code {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }

        .info-box {
            background: #e7f3ff;
            border-left: 4px solid #2196F3;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }

        .success-box {
            background: #e8f5e9;
            border-left: 4px solid #4caf50;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }

        .quiz-container {
            background: white;
            padding: 20px;
            border: 2px solid #3498db;
            border-radius: 8px;
            margin: 20px 0;
        }

        label {
            display: block;
            margin: 10px 0;
            cursor: pointer;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 4px;
            transition: background 0.2s;
        }

        label:hover {
            background: #e3f2fd;
        }

        button {
            background: #3498db;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1em;
            transition: background 0.3s;
        }

        button:hover {
            background: #2980b9;
        }

        hr {
            margin: 40px 0;
            border: none;
            border-top: 2px solid #e0e0e0;
        }

        ol {
            margin-left: 20px;
            margin-top: 10px;
        }

        ul {
            margin-left: 20px;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <h2>‚úÖ Assertions: –ö–∞–∫ pytest –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç</h2>

    <p>–ü–æ—Å–º–æ—Ç—Ä–∏ –Ω–∞ —Å—Ö–µ–º—É ‚Äî —Ç–∞–∫ pytest –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç assert –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç—á—ë—Ç—ã:</p>

    <div class="mermaid">
flowchart TD
    A[def test_login:] --> B[user = login 'admin', 'pass']
    B --> C[assert user.is_authenticated]
    C --> D{–£—Å–ª–æ–≤–∏–µ True?}

    D -->|‚úÖ True| E[Test PASSED]
    E --> F[–ù–∏–∫–∞–∫–æ–≥–æ –≤—ã–≤–æ–¥–∞]
    F --> G[. - —Ç–æ—á–∫–∞ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ]

    D -->|‚ùå False| H[AssertionError]
    H --> I[Pytest –º–∞–≥–∏—è:<br>Introspection]
    I --> J[–ü–æ–∫–∞–∑–∞—Ç—å:<br>- –ì–¥–µ —É–ø–∞–ª<br>- –ß—Ç–æ –æ–∂–∏–¥–∞–ª–∏<br>- –ß—Ç–æ –ø–æ–ª—É—á–∏–ª–∏]
    J --> K[Traceback —Å –¥–µ—Ç–∞–ª—è–º–∏]
    K --> L[F - –±—É–∫–≤–∞ F –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ]

    G --> M[–§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç]
    L --> M
    M --> N[üìä 1 passed, 0 failed<br>–∏–ª–∏<br>0 passed, 1 failed]

    style E fill:#90EE90,stroke:#2d7a2d,stroke-width:2px
    style H fill:#FFB6C6,stroke:#d32f2f,stroke-width:2px
    style I fill:#FFE4B5,stroke:#ff9800,stroke-width:2px
    style N fill:#87CEEB,stroke:#1976d2,stroke-width:2px
    </div>

    <div class="info-box">
        <strong>üí° –ü—Ä–æ–π–¥–∏ –≥–ª–∞–∑–∞–º–∏ –ø–æ —Å—Ö–µ–º–µ:</strong>
        <ol>
            <li><strong>Assert:</strong> Pytest –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —É—Å–ª–æ–≤–∏–µ (True/False)</li>
            <li><strong>Passed:</strong> –ï—Å–ª–∏ True ‚Äî —Ç–µ—Å—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç, –Ω–∏–∫–∞–∫–æ–≥–æ –≤—ã–≤–æ–¥–∞ (–ø—Ä–æ—Å—Ç–æ —Ç–æ—á–∫–∞)</li>
            <li><strong>Failed:</strong> –ï—Å–ª–∏ False ‚Äî pytest –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –î–ï–¢–ê–õ–¨–ù–´–ô traceback</li>
            <li><strong>Introspection:</strong> Pytest "—Ä–∞—Å–∫—Ä—ã–≤–∞–µ—Ç" assert –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö</li>
        </ol>
    </div>

    <hr>

    <h2>üéØ Quick Check: –ü—Ä–æ–≤–µ—Ä—å —Å–µ–±—è</h2>

    <div class="quiz-container">
        <p><strong>–í–æ–ø—Ä–æ—Å:</strong> –í —á–µ–º –≥–ª–∞–≤–Ω–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ pytest assert –ø–µ—Ä–µ–¥ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º unittest?</p>

        <div style="margin: 15px 0;">
            <label>
                <input type="radio" name="q1" value="1"> Pytest –±—ã—Å—Ç—Ä–µ–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç assert
            </label>
            <label>
                <input type="radio" name="q1" value="2" id="correct-answer"> <strong>Pytest –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –î–ï–¢–ê–õ–¨–ù–´–ô traceback —Å –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö</strong>
            </label>
            <label>
                <input type="radio" name="q1" value="3"> Pytest –Ω–µ —Ç—Ä–µ–±—É–µ—Ç import
            </label>
            <label>
                <input type="radio" name="q1" value="4"> Pytest –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç –æ—à–∏–±–∫–∏
            </label>
        </div>

        <button onclick="checkAnswer()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç</button>

        <div id="feedback" style="margin-top: 15px;"></div>
    </div>

    <div class="success-box">
        <strong>‚úÖ –ü—Ä–∏–º–µ—Ä—ã assert –≤ pytest:</strong>
        <ul>
            <li><code>assert result == 5</code> ‚Äî –ø—Ä–æ—Å—Ç–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ</li>
            <li><code>assert "error" in response.text</code> ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ö–æ–∂–¥–µ–Ω–∏—è</li>
            <li><code>assert user.is_admin is True</code> ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –±—É–ª–µ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π</li>
            <li><code>assert len(users) > 0</code> ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª–∏–Ω—ã —Å–ø–∏—Å–∫–∞</li>
            <li><code>assert response.status_code == 200, "API returned error"</code> ‚Äî assert —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º</li>
        </ul>
        <p style="margin-top: 10px;"><strong>–°–æ–≤–µ—Ç:</strong> –î–æ–±–∞–≤–ª—è–π —Å–æ–æ–±—â–µ–Ω–∏—è –∫ assert –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏!</p>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default',
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis'
            }
        });

        function checkAnswer() {
            const correct = document.getElementById('correct-answer');
            const feedback = document.getElementById('feedback');

            if (correct.checked) {
                feedback.innerHTML = '<div style="background: #d4edda; border-left: 4px solid #28a745; padding: 15px; border-radius: 4px; margin-top: 10px;">‚úÖ <strong>–ü—Ä–∞–≤–∏–ª—å–Ω–æ!</strong> Pytest –∏—Å–ø–æ–ª—å–∑—É–µ—Ç introspection –¥–ª—è "—Ä–∞—Å–∫—Ä—ã—Ç–∏—è" assert –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –í–°–ï–• –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ –≤—ã—Ä–∞–∂–µ–Ω–∏–∏. –≠—Ç–æ —ç–∫–æ–Ω–æ–º–∏—Ç —á–∞—Å—ã –æ—Ç–ª–∞–¥–∫–∏! üéâ</div>';
            } else {
                feedback.innerHTML = '<div style="background: #fff3cd; border-left: 4px solid #856404; padding: 15px; border-radius: 4px; margin-top: 10px;">‚ùå <strong>–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ.</strong> –ü–æ–¥—É–º–∞–π –µ—â—ë —Ä–∞–∑: –∫–æ–≥–¥–∞ —Ç–µ—Å—Ç –ø–∞–¥–∞–µ—Ç, —á—Ç–æ —Ç–µ–±–µ –≤–∞–∂–Ω–µ–µ ‚Äî —Å–∫–æ—Ä–æ—Å—Ç—å –∏–ª–∏ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –ü–û–ß–ï–ú–£ –æ–Ω —É–ø–∞–ª? ü§î</div>';
            }
        }
    </script>
</body>
</html>
