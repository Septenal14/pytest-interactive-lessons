<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson 04: Markers - Test Organization</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #ffffff;
            padding: 20px;
        }

        h2 {
            color: #2c3e50;
            margin-top: 20px;
            margin-bottom: 15px;
        }

        p {
            font-size: 1.05em;
            color: #555;
            margin-bottom: 15px;
        }

        code {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }

        .info-box {
            background: #e7f3ff;
            border-left: 4px solid #2196F3;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }

        .success-box {
            background: #e8f5e9;
            border-left: 4px solid #4caf50;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }

        .quiz-container {
            background: white;
            padding: 20px;
            border: 2px solid #3498db;
            border-radius: 8px;
            margin: 20px 0;
        }

        label {
            display: block;
            margin: 10px 0;
            cursor: pointer;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 4px;
            transition: background 0.2s;
        }

        label:hover {
            background: #e3f2fd;
        }

        button {
            background: #3498db;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1em;
            transition: background 0.3s;
        }

        button:hover {
            background: #2980b9;
        }

        hr {
            margin: 40px 0;
            border: none;
            border-top: 2px solid #e0e0e0;
        }

        ol {
            margin-left: 20px;
            margin-top: 10px;
        }

        ul {
            margin-left: 20px;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <h2>üè∑Ô∏è Markers: –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤</h2>

    <p>–ü–æ—Å–º–æ—Ç—Ä–∏ –Ω–∞ —Å—Ö–µ–º—É ‚Äî —Ç–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç pytest markers:</p>

    <div class="mermaid">
flowchart TD
    A[–í—Å–µ —Ç–µ—Å—Ç—ã] --> B[@pytest.mark.smoke]
    A --> C[@pytest.mark.regression]
    A --> D[@pytest.mark.slow]
    A --> E[@pytest.mark.api]

    B --> F[test_login]
    B --> G[test_homepage]

    C --> H[test_full_flow]
    C --> I[test_edge_cases]
    C --> J[test_integrations]

    D --> K[test_load_1000_users]
    D --> L[test_big_data_import]

    E --> M[test_api_auth]
    E --> N[test_api_endpoints]

    O[–ó–∞–ø—É—Å–∫: pytest -m smoke] --> P{–ö–∞–∫–∏–µ —Ç–µ—Å—Ç—ã?}
    P --> Q[–¢–æ–ª—å–∫–æ @pytest.mark.smoke]
    Q --> R[‚úÖ test_login<br>‚úÖ test_homepage]

    S[–ó–∞–ø—É—Å–∫: pytest -m 'not slow'] --> T{–ö–∞–∫–∏–µ —Ç–µ—Å—Ç—ã?}
    T --> U[–í—Å–µ –ö–†–û–ú–ï @pytest.mark.slow]
    U --> V[‚úÖ All except slow tests]

    style B fill:#90EE90,stroke:#2d7a2d,stroke-width:2px
    style C fill:#87CEEB,stroke:#1976d2,stroke-width:2px
    style D fill:#FFB6C6,stroke:#d32f2f,stroke-width:2px
    style E fill:#FFE4B5,stroke:#ff9800,stroke-width:2px
    style R fill:#90EE90,stroke:#2d7a2d,stroke-width:2px
    style V fill:#87CEEB,stroke:#1976d2,stroke-width:2px
    </div>

    <div class="info-box">
        <strong>üí° –ü—Ä–æ–π–¥–∏ –≥–ª–∞–∑–∞–º–∏ –ø–æ —Å—Ö–µ–º–µ:</strong>
        <ol>
            <li><strong>–ú–∞—Ä–∫–∏—Ä–æ–≤–∫–∞:</strong> –ì—Ä—É–ø–ø–∏—Ä—É–µ–º —Ç–µ—Å—Ç—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (<code>@pytest.mark.smoke</code>)</li>
            <li><strong>–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è:</strong> –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ —Ç–µ—Å—Ç—ã (<code>pytest -m smoke</code>)</li>
            <li><strong>–ò–Ω–≤–µ—Ä—Å–∏—è:</strong> –ò—Å–∫–ª—é—á–∞–µ–º –º–µ–¥–ª–µ–Ω–Ω—ã–µ (<code>pytest -m "not slow"</code>)</li>
            <li><strong>–ö–æ–º–±–∏–Ω–∞—Ü–∏–∏:</strong> –ú–æ–∂–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å (<code>pytest -m "smoke and api"</code>)</li>
        </ol>
    </div>

    <hr>

    <h2>üéØ Quick Check: –ü—Ä–æ–≤–µ—Ä—å —Å–µ–±—è</h2>

    <div class="quiz-container">
        <p><strong>–í–æ–ø—Ä–æ—Å:</strong> –ß—Ç–æ –≤—ã–ø–æ–ª–Ω–∏—Ç –∫–æ–º–∞–Ω–¥–∞ <code>pytest -m "smoke"</code>?</p>

        <div style="margin: 15px 0;">
            <label>
                <input type="radio" name="q1" value="1"> –í—Å–µ —Ç–µ—Å—Ç—ã
            </label>
            <label>
                <input type="radio" name="q1" value="2" id="correct-answer"> <strong>–¢–æ–ª—å–∫–æ —Ç–µ—Å—Ç—ã —Å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–º @pytest.mark.smoke</strong>
            </label>
            <label>
                <input type="radio" name="q1" value="3"> –í—Å–µ —Ç–µ—Å—Ç—ã –∫—Ä–æ–º–µ @pytest.mark.smoke
            </label>
            <label>
                <input type="radio" name="q1" value="4"> –¢–µ—Å—Ç—ã –∏–∑ —Ñ–∞–π–ª–∞ test_smoke.py
            </label>
        </div>

        <button onclick="checkAnswer()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç</button>

        <div id="feedback" style="margin-top: 15px;"></div>
    </div>

    <div class="success-box">
        <strong>‚úÖ –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ markers –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö:</strong>
        <ul>
            <li><strong>@pytest.mark.smoke</strong> ‚Äî –∫—Ä–∏—Ç–∏—á–Ω—ã–µ —Ç–µ—Å—Ç—ã, –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –∫–æ–º–º–∏—Ç–æ–º (2-5 –º–∏–Ω—É—Ç)</li>
            <li><strong>@pytest.mark.regression</strong> ‚Äî –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤ –ø–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º (1-2 —á–∞—Å–∞)</li>
            <li><strong>@pytest.mark.slow</strong> ‚Äî –º–µ–¥–ª–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã, –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –Ω–æ—á—å—é</li>
            <li><strong>@pytest.mark.skip</strong> ‚Äî –≤—Ä–µ–º–µ–Ω–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, –±–∞–≥ –≤ –ø—Ä–æ–¥—É–∫—Ç–µ)</li>
            <li><strong>@pytest.mark.xfail</strong> ‚Äî –æ–∂–∏–¥–∞–µ–º –ø–∞–¥–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–∑–≤–µ—Å—Ç–Ω—ã–π –±–∞–≥)</li>
        </ul>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default',
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis'
            }
        });

        function checkAnswer() {
            const correct = document.getElementById('correct-answer');
            const feedback = document.getElementById('feedback');

            if (correct.checked) {
                feedback.innerHTML = '<div style="background: #d4edda; border-left: 4px solid #28a745; padding: 15px; border-radius: 4px; margin-top: 10px;">‚úÖ <strong>–ü—Ä–∞–≤–∏–ª—å–Ω–æ!</strong> –§–ª–∞–≥ -m —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç —Ç–µ—Å—Ç—ã –ø–æ marker. –¢–æ–ª—å–∫–æ —Ç–µ—Å—Ç—ã —Å @pytest.mark.smoke –±—É–¥—É—Ç –∑–∞–ø—É—â–µ–Ω—ã üéâ</div>';
            } else {
                feedback.innerHTML = '<div style="background: #fff3cd; border-left: 4px solid #856404; padding: 15px; border-radius: 4px; margin-top: 10px;">‚ùå <strong>–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ.</strong> –ü–æ–¥—É–º–∞–π –µ—â—ë —Ä–∞–∑: -m –æ–∑–Ω–∞—á–∞–µ—Ç "marker", –∞ "smoke" ‚Äî —ç—Ç–æ –∏–º—è marker\'–∞ ü§î</div>';
            }
        }
    </script>
</body>
</html>
